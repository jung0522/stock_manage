<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.goorm.board.mapper.CompanyMapper">

    <!-- Company ResultMap -->
    <resultMap id="companyResultMap" type="io.goorm.board.entity.Company">
        <id property="companySeq" column="company_seq"/>
        <result property="companyName" column="company_name"/>
        <result property="businessNumber" column="business_number"/>
        <result property="representative" column="representative"/>
        <result property="createdAt" column="created_at"/>
    </resultMap>

    <!-- 모든 회사 조회 (회사명 순) -->
    <select id="findAllOrderByCompanyName" resultMap="companyResultMap">
        SELECT company_seq, company_name, business_number, representative, created_at
        FROM companies
        ORDER BY company_name
    </select>

    <!-- 회사 ID로 조회 -->
    <select id="findById" parameterType="long" resultMap="companyResultMap">
        SELECT company_seq, company_name, business_number, representative, created_at
        FROM companies
        WHERE company_seq = #{companySeq}
    </select>

</mapper>